# 计算机科学与编程入门第三次作业
## 2000016289 党万豪
## 1. 作业1

由于红楼梦的篇幅较长且人物较多，人物之间的关系错综复杂，故本次选取《红楼梦》作为人物共现的分析对象。

为了提高准确度，我将一些不是人名却被识别为人名的词删去，并且引入了一些重要人物的名称，更改了一些人物的称呼。为了美观，我将关系图设置为环形。

为了让本段代码可以应用于许多文本的分析，我没有将各个人物分别用不同的颜色来表示，虽然这样可以让关系图更加美观，但其适用范围也会缩小。

[红楼梦人物关系图](https://dwh120.github.io/红楼梦人物共现分析图.html)
![image](https://dwh120.github.io/作业3.png)

## 2. 作业2

本次搜索引擎制作选用了国内应用最广泛的百度，和国外应用最广泛的Google。

我采用bootstrap将搜索界面的文本框和提交键进行美化，同时为了插入了百度和Google的logo(若因网络不能使用Google则Google的logo可能无法显示)，点击其图片可以直接进入对应的搜索引擎主界面。

[搜索引擎](https://dwh120.github.io/搜索引擎.html)

## 3. 作业3

建立个人网站时，我的思路是先把所有的作业都汇总到这个网站里，然后向其中添加一些自己的新东西，我本次选择添加的是我和一名同学在另一门课上写的游戏测评。在这个网页中，这篇测评的格式可以很好地展示出来。

为了让个人网页更加美观，我在网络上搜集资料，决定采用hexo来美化个人网站，其中我选用了fluid主题，下载了一些外部文件。借助网络搜索和hexo，我加入了2d看板娘，鼠标特效，浏览量等内容，对各次作业以及特殊内容分别设置标签和种类，同时在关于界面补充了个人信息，让个人网站更有个性。

[个人网站](https://dwh120.github.io/index1.html)

# 计算机科学与编程入门第二次作业
## 2000016289 党万豪
## 1. 作业1

基于上次作业对于《追风筝的人》的人名和地名词频统计情况，本次将这些词频排序用数据可视化（柱状图、词云、饼图）的方式表现出来。首先在python中打开上次生成的地名词频统计表（一个csv文件），采用readlines将其逐行读出产生一个列表，该列表中的每个元素都是一个字符串，而我们要得到的是一个地名与词频一一对应的列表，于是对列表中的字符串进行操作，先用replace去掉其中的\n（换行符），然后用split将每一个字符串分割产生一个含有地名与相应词频的列表，然后将地名与词频按顺序分别写入word_list与count_list。

绘制柱状图采用Bar，x轴与y轴分别是word_list与count_list，将柱状图的颜色设置为绿色。为了图表美观且便于观察，采用datazoom_opts加入滑动条，并采用toolbox_opts加入工具箱，运用legend_opts设置显示图例组件，最后用render将其保存。

绘制词云采用WordCloud，这里只需要对readlines的列表进行处理，将其每个元素变为一个含有地名和相应词频两个元素的列表，用word_size_range设置词云中字体的大小范围，用shape设置词云的形状为diamond（钻石），用textstyle_opts设置词云中字体为楷体，用set_globals_opts对该词云命名，最后将其保存。

为了观察排名前十的地名出现的比例如何，采用Pie绘制饼图，对readlines的列表进行与词云中同样的处理，用is_clockwise设置饼图为顺时针排布，将rosetype设置为’radius’，即扇区圆心角展现数据的百分比，半径展现数据的大小，最后将饼图保存。

人名词频的可视化处理与地名采取同样的操作。

[地名柱状图](https://dwh120.github.io/地名柱状图.html)

[地名词云](https://dwh120.github.io/地名词云.html)

[地名饼图](https://dwh120.github.io/地名饼图.html)

[人名柱状图](https://dwh120.github.io/人名柱状图.html)

[人名词云](https://dwh120.github.io/人名词云.html)

[人名饼图](https://dwh120.github.io/人名饼图.html)

## 2. 作业2

背景故事：2019年，一向衣食无忧的小北如愿考入了中国最知名大学——北清大学。上了大学之后，小北接触到了一个以前没听说过的词“内卷”，这个词让期待着在大学能够得到“自由”的小北陷入了深深的焦虑之中。经过了漫长的挣扎，第一学年终于过去了。小北迎来了自己大学的第一个假期。于是，小北决定外出游玩，享受一下无忧无虑的快乐。小北从北京出发，沿着京广线一路南下，与别人的不同的是，他几乎每隔几站都要停一次，在经停省份的知名城市游玩一番。可是，第一站：石家庄，就让他感到了世界的参差。略有失望的小北到达了下一站——郑州，作为交通枢纽的郑州还算有趣，不过现代化气息过于浓烈，于是小北乘车去了洛阳，领略了一下古都的古典之美，一种与北京不同的美。离开河南后，小北到了武汉，武汉不愧是国际化大都市，人山人海。后来小北又去了长沙和韶关，最后到达终点站——广州，在这里，小北终于接触到了粤语，身为一个资深粤语歌迷却不会说粤语也听不懂粤语的人，小北算是圆了自己的一个梦想。与此同时，网络上一名少数民族小哥哥丁真爆火，并且竭力宣传自己的家乡理塘，小北被吸引了。理塘距离广州很近，小李索性去了理塘游玩，在那里，小北见识到了自然之美，却也感慨于贫困地区的落后。理塘没有机场，所以小北顺势前往佛教圣地拉萨，并在那里乘飞机到了自己旅游计划的下一目的地——上海。小北从上海一路北上，遍游南京、徐州、济南、天津，最终回到北京。回京之后，小北对理塘和拉萨念念不忘，他觉得自己的生命不该在内卷中慢慢耗尽，自己应该做点什么。于是，他申请去西藏支教。作为名校大学生，小北的申请很快得到了同意。小北先前往拉萨，然后从拉萨去了当地的贫困县——察雅县。虽然生活艰难，但是看着孩子们渴望知识的眼神，小北感觉自己的生命有了更大的意义。明年，小北将去新疆进行自己的第二年支教，目的地是条件更为艰苦的墨玉县。小北有所害怕，但更多充满了期待。

用pyecharts中的Geo来展示小北的旅游————支教路线。因为Geo库中没有‘理塘县’‘察雅县’‘墨玉县’，故采用add_coordinate将这三个地点加入到Geo中，用add_schema设置地图类型为中国地图，并且用itemstyle_opts设置地图的颜色。用add取图中的点，由于‘北京’‘上海’‘广州’是全国重要交通点，故将tyoe_设置为ChartType.EFFECT_SCATTER以添加特殊效果，数值设为大于1的某个数，其余点设置为普通效果且数值设为1。然后采用add连接各个点，将type_设置为ChartType.LINES（线），分别连接‘京广铁路’‘京沪铁路’‘国航’‘一时兴起的旅游路线’‘热心小北的支教路线’五条线，在effect_opts中用SymbolType设置箭头标志并用symbol_size设置箭头大小，用color设置线的颜色，用linestyle_opts设置线的曲度。最后将图命名并保存。

[小北的旅游————支教路线图](https://dwh120.github.io/小北的奇妙游玩图.html)

## 3. 作业3

背景1：从网络上获取的2019年部分省市律师行业各项数据： 
![image](https://dwh120.github.io/参考数据1.png)

用Map来绘制2019年部分省市的律师人数图，首先手动将数据写入prov_list，然后将用add将数据项设为prov_list，设置地图为中国地图，将is_map_symbol_show设为False，即不显示标记图形。然后用全局配置设置图像的标题，用visualmap_opts设置视觉映射配置，用颜色展示过渡，设置过渡数据的范围为[5000,50000],且设为分段型。最后用render保存。

[中国部分省市律师人数分布图](https://dwh120.github.io/中国部分省市律师行业数据.html)

背景2：从网络上获取的2020年世界人均GDP排行表：
![image](https://dwh120.github.io/参考数据2.png)

用Map来绘制2020年世界人均GDP前十名的国家分布图，首先从pyecharts的官方文件中找到各个国家的名称如何表示，然后将相应人均GDP输入到一个列表中，并在add中以该列表作为Map的数据项，将地图设置为世界地图。由于有些国家的面积过小，在世界地图中难以发现，故将is_map_symbol_show设为True，用点显示标记图形。同样用全局配置设置图像标题，不设为分段型。最后用render保存。

[世界GDP前十名分布图](https://dwh120.github.io/世界GDP排名.html)

## 4. 作业4

背景：从网络上获取的2019年部分省市律师行业各项数据（参考上图），同时用random函数随机模拟了中国部分省份律师入职0-4年后的月平均收入（由于数据生成完全随机，故不具有实际参考价值，仅为展示图形所用）。

采用Tab、Timeline和Grid来绘制组合图表。将各个省份名称写入xdata，然后将对应的律师数量，律师数量同比增长率，每万人拥有的律师数量，律所数量分别写入y1_data,y2_data,y3_data,y4_data。由于要用Tab将各个图表组合在一起，故要用定义函数（def）来绘制各个图表。

第一个图表是部分省份律师数量与每万人拥有的律师数量的双y轴变量柱状图与律师数量同比增长率的折线图的叠加图。由于链式调用可以简化代码，本网页中所有的绘图代码都采用链式调用。首先用Bar绘制柱形图，用add_xaxis添加x轴数据，用add_yaxis来添加y轴数据，将其索引（yaxis_index）分别设置为0和1，然后用color设置柱形图的颜色。采用extend_aaxis来添加y轴标签，将标签‘律师数量’和‘每万人拥有的律师数量’分别添加到图表右侧和左侧，根据相应数据设置y轴的最小刻度与最大刻度，用linestyle_opts将与上述统计数据相应的y轴刻度设置为一致的颜色，然后用axislabel_opts设置y轴的单位。由于要叠加一个折线图，所以采用set_global_opts在图表右侧添加一个y轴，刻度为百分比，用于统计各省律师数量的同比增长情况，同时采用tooltip_opts配置提示项，使图表更加直观。

第二个图表是两个饼图，用来表示部分省份的律师数量以及律所数量的比例关系。这里用到的数据是y1_data和y4_data，由于饼图需要的数据项是列表，故采用for循环将【省份，律师数量】，【省份，律所数量】分别写入list1和list2。然后采用Pie来绘制饼图，用radius和center分别设置饼图的内外半径和中心坐标，将两幅图的展示类型分别设置为radius和area，即扇区圆心角展现数据的百分比，半径展现数据的大小和所有扇区圆心角相同，仅通过半径展现数据大小两种类型。此图要展示的内容已较为明显，不需要设置标题。

第三个图表是基于模拟的数据的中国部分省份律师入职0-4年的月收入变化图，主要采用Timeline操作。这里假定刚入职时的月薪为5000-10000，然后每年在5000的范围内增长，在此基础上用random.randint模拟出数据。采用for循环和Bar对律师入职0-4年的数据分别进行绘图，并用set_global_opts对每个柱状图命名，每次循环将生成的柱状图用Timeline处理加入到时间轴中。循环完成后即生成了中国部分省份律师入职0-4年（共5年）的月收入变化模拟图。

最后，用Tab函数将上述三个图表分别命名并在写入同一个文件，并且将其保存。

[律师行业数据组合图表](https://dwh120.github.io/组合图表.html)
